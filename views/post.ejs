<% include partials/header %>
<style>
    .post {
        background: rgba(0, 0, 0, 0.5);
        color: white;
        font-size: 20px;
        min-height: 90vh;
        width: 80%;
        margin: 0 auto;
    }

    .post__head {
        width: 100%;
        display: flex;
        justify-content: space-between;
        background: rgba(0, 0, 0, 0.783);
        box-sizing: border-box;
        padding: 10px;
    }

    .post__message {
        padding: 15px;
        min-height: 80vh;
    }

    .commits {
        background: rgba(0, 102, 255, 0.488);
        box-sizing: border-box;
        padding: 20px;
        min-height: 10vh;
    }
    .commit {
        margin: 5px;
    }

    .commits__form {
        width: 80%;
    }
    
    .commits__head {
        display: flex;
        justify-content: space-between    
    }
    textarea[name=commit_message] {
        width: 100%;
        min-height: 2rem;
    }
</style>
<main>
    <div class="show hide">
        <span class="close">X</span>
        <div class="show__content">
            <div class="content__title">leave commit<hr></div>
            <div class="commits__form">
                <form action="/commit/:post">
                    <textarea name="commit_message" id="" cols="30" rows="10"></textarea>
                    <button type="submit">leave commit</button>
                </form>
            </div>
        </div>
    </div>
    <div class="content__title">POST<hr></div>
    <div class="post">
        <div class="post__head">
            <div class="post__title">
                <%= post.title %>
            </div>
            <div class="post__user">
                post by <%= post.user%>
            </div>
        </div>
        <div class="post__message">
            <%= post.message %>
        </div>
        <div class="commits">
            <div class="commits__head">
                <div class="commits__title">回覆</div>
                <button>Leave commit</button>
            </div>
            <% post.commits.forEach(commit=>{ %>
            <div class="commit">
                <div class="commit__user">
                    <%= commit.user %> :
                </div>
                <div class="commit__message">
                    <%= commit.message %>
                </div>
            </div>
            <% }) %>
        </div>
    </div>
</main>


<% include partials/footer %>