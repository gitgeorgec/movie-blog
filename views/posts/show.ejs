<% include ../partials/header %>
<style>
    .post {
        background: rgba(0, 0, 0, 0.5);
        color: white;
        font-size: 20px;
        min-height: 90vh;
        width: 80%;
        margin: 0 auto;
    }

    .post__head {
        width: 100%;
        display: flex;
        justify-content: space-between;
        background: rgba(0, 0, 0, 0.783);
        box-sizing: border-box;
        padding: 10px;
    }

    .post__message {
        padding: 15px;
        min-height: 80vh;
    }

    .comments {
        background: rgba(0, 102, 255, 0.488);
        box-sizing: border-box;
        padding: 20px;
        min-height: 10vh;
    }
    .comment {
        margin: 5px;
    }

    .comments__form {
        width: 80%;
    }
    
    .comments__head {
        display: flex;
        justify-content: space-between    
    }
    textarea[name=comment_message] {
        width: 100%;
        min-height: 2rem;
    }
</style>
<main>
    <div class="show hide">
        <span class="close">X</span>
        <div class="show__content">
            <div class="content__title">leave comment<hr></div>
            <div class="comments__form">
                <form action="/comment/:post">
                    <textarea name="comment_message" id="" cols="30" rows="10"></textarea>
                    <button type="submit">leave comment</button>
                </form>
            </div>
        </div>
    </div>
    <div class="content__title">POST<hr></div>
    <div class="post">
        <div class="post__head">
            <div class="post__title">
                <%= post.title %>
            </div>
            <div class="post__user">
                post by <%= post.author%>
            </div>
        </div>
        <div class="post__message">
            <%= post.text %>
        </div>
        <div class="comments">
            <div class="comments__head">
                <div class="comments__title">回覆</div>
                <button>Leave comment</button>
            </div>
            <% post.comments.forEach(comment=>{ %>
            <div class="comment">
                <div class="comment__user">
                    <%= comment.user %> :
                </div>
                <div class="comment__message">
                    <%= comment.message %>
                </div>
            </div>
            <% }) %>
        </div>
    </div>
</main>


<% include ../partials/footer %>